<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="https://companieslogo.com/img/orig/BPCL.NS-c7816451.png?t=1599628913">
    <title>Daily Shift Details</title>
    <style>
        body {
            font-family: 'Times New Roman', Times, serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
        }
        .container {
            width: 90%;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .datetime-box {
            text-align: right;
        }
        .datetime-box > div {
            margin-bottom: 5px;
            font-size: 14px;
            background-color: #007bff;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
        }
        #pump{
            text-align: center;
            padding: 1%;
            margin-bottom: 0px;
            border-radius: 5px;
        }
        h2{
            text-align: center;
            color: black;
        }
        h3 {
            color: #333;
        }
        .div{
            display: flex;
            justify-content: center;
            margin-bottom: 6px;
        }
        .pump{
            width: 10px;
        }
        .section {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .section div {
            flex: 1;
            margin-right: 20px;
        }
        .section div:last-child {
            margin-right: 0;
        }
        label {
            display: block;
            margin-bottom: 5px;
            color: black;
        }
        input[type="number"], select, input[type="text"] {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-sizing: border-box;
        }
        input[type="number"]:read-only {
            background-color: #f0f0f0;
        }
        .denomination {
            margin-bottom: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 8px;
            text-align: left;
            border: 1px solid #ddd;
        }
        th {
            background-color: #f2f2f2;
        }
        button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>Sai Krupa Filling Station</h2>
            <div class="datetime-box">
                <div id="dateBox"></div>
                <div id="timeBox"></div>
                <div id="pump">
                    <select id="Shift" style="width: 120px; height: 40px;" required>
                        <option value="opption">Select Pump</option>
                        <option value="P1">Pump-1</option>
                        <option value="P2">Pump-2</option>
                        <option value="P3">Pump-3</option>
                        <option value="P4">Pump-4</option>
                    </select>
            </div>
            </div>
        </div>
        <div class="div">
            <label for="Shift">Shift</label>&nbsp;&nbsp;
                <select id="Shift" style="width: 150px;" required>
                    <option value="Shift">Shift</option>
                    <option value="S1">S1 (Morning)</option>
                    <option value="S2">S2 (Afternoon)</option>
                    <option value="S3">S3 (Night)</option>
                </select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                <label for="Person">Select Person</label>&nbsp;&nbsp;
                <select id="Person" style="width: 180px;" required>
                    <option value="Select Person">Select Person</option>
                    <option value="Sunitha">Sunitha</option>
                    <option value="Sai Tharun">Sai Tharun</option>
                    <option value="Srinu">Srinu</option>
                </select>
        </div>
        <div class="section">
            <div>
                <h3>MS</h3>
                <label for="MSClosing">Closing</label>
                <input type="number" id="MSClosing" required>
                <label for="MSOpening">Opening</label>
                <input type="number" id="MSOpening" required>
                <label for="MSSale">Sales</label>
                <input type="number" readonly id="MSSale">
                <label for="MSTotalCost">MS Total Cost</label>
                <input type="number" readonly id="MSTotalCost">
            </div>
            <div>
                <h3>HSD</h3>
                <label for="HSDClosing">Closing</label>
                <input type="number" id="HSDClosing" required>
                <label for="HSDOpening">Opening</label>
                <input type="number" id="HSDOpening" required>
                <label for="HSDSale">Sales</label>
                <input type="number" readonly id="HSDSale">
                <label for="HSDTotalCost">HSD Total Cost</label>
                <input type="number" readonly id="HSDTotalCost">
            </div>
        </div>
        
        <label for="totalMSHSD">Total MS & HSD</label>
        <input type="number" id="totalMSHSD" readonly>
        <div class="section">
            <div>
                <label for="Cash">Cash</label>
                <input type="number"  id="Cash" required>
                <label for="ICICI" id="">I.C.I.C.I (Swiping)</label>
                <input type="number"  id="ICICI" required>
                <label for="Paytm">Paytm</label>
                <input type="number" id="Paytm" required>
                <label for="Ufill">U-Fill</label>
                <input type="number" id="Ufill">
                <label for="EXP">Expenditure</label>
                <input type="number" id="EXP" required><input type="text" placeholder="Reason" required id="Reason">
                <label for="Vijay">Vijay Bill (Amount)</label>
                <input type="number" id="Vijay">
               
                <label for="Short">Short</label>
<input type="number" id="Short" readonly>


            </div>   
            <div class="denomination">
                <u>Cash Denomination</u><br><br>
                <table>
                    <thead>
                        <tr>
                            <th>Notes</th>
                            <th>Count</th>
                            <th>Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>2000</td>
                            <td><input id="cash2000" type="number" required></td>
                            <td><input id="amount2000" type="number" readonly></td>
                        </tr>
                        <tr>
                            <td>500</td>
                            <td><input id="cash500" type="number" required></td>
                            <td><input id="amount500" type="number" readonly></td>
                        </tr>
                        <tr>
                            <td>200</td>
                            <td><input id="cash200" type="number" required></td>
                            <td><input id="amount200" type="number" readonly></td>
                        </tr>
                        <tr>
                            <td>100</td>
                            <td><input id="cash100" type="number" required></td>
                            <td><input id="amount100" type="number" readonly></td>
                        </tr>
                        <tr>
                            <td>50</td>
                            <td><input id="cash50" type="number" required></td>
                            <td><input id="amount50" type="number" readonly></td>
                        </tr>
                        <tr>
                            <td>20</td>
                            <td><input id="cash20" type="number" required></td>
                            <td><input id="amount20" type="number" readonly></td>
                        </tr>
                        <tr>
                            <td>10</td>
                            <td><input id="cash10" type="number" required></td>
                            <td><input id="amount10" type="number" readonly></td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td><input id="cash5" type="number" required></td>
                            <td><input id="amount5" type="number" readonly></td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td><input id="cash2" type="number" required></td>
                            <td><input id="amount2" type="number" readonly></td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td><input id="cash1" type="number" required></td>
                            <td><input id="amount1" type="number" readonly></td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="2">&nbsp;<b>Total Amount</b></td>
                            <td><input id="totalCash" type="number" readonly></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
    </div>    
     <button type="submit">Save & Submit</button><br>
    
    <div style="text-align: center;">
        © 2024, Design & Developed by <a href="https://www.linkedin.com/in/kusam-deepakraj-323a2727a" target="_blank">@Kusam Deepakraj</a>
         </div>
        </div>
    <script>
        function updateDateTime() {
            const now = new Date();
            const dateOptions = { year: 'numeric', month: 'long', day: 'numeric' };
            const timeOptions = { hour: 'numeric', minute: 'numeric', second: 'numeric' };
            document.getElementById('dateBox').textContent = 'Date: ' + now.toLocaleDateString('en-US', dateOptions);
            document.getElementById('timeBox').textContent = 'Time: ' + now.toLocaleTimeString('en-US', timeOptions);
        }
    
        function calculateTotalMSHSD() {
            const MSTotalCost = parseFloat(document.getElementById('MSTotalCost').value) || 0;
            const HSDTotalCost = parseFloat(document.getElementById('HSDTotalCost').value) || 0;
            const totalMSHSD = MSTotalCost + HSDTotalCost;

            document.getElementById('totalMSHSD').value = totalMSHSD.toFixed(2);
        }
        function calculateTotal() {
            const cash2000 = parseInt(document.getElementById('cash2000').value) || 0;
            const cash500 = parseInt(document.getElementById('cash500').value) || 0;
            const cash200 = parseInt(document.getElementById('cash200').value) || 0;
            const cash100 = parseInt(document.getElementById('cash100').value) || 0;
            const cash50 = parseInt(document.getElementById('cash50').value) || 0;
            const cash20 = parseInt(document.getElementById('cash20').value) || 0;
            const cash10 = parseInt(document.getElementById('cash10').value) || 0;
            const cash5 = parseInt(document.getElementById('cash5').value) || 0;
            const cash2 = parseInt(document.getElementById('cash2').value) || 0;
            const cash1 = parseInt(document.getElementById('cash1').value) || 0;

            const amount2000 = cash2000 * 2000;
            const amount500 = cash500 * 500;
            const amount200 = cash200 * 200;
            const amount100 = cash100 * 100;
            const amount50 = cash50 * 50;
            const amount20 = cash20 * 20;
            const amount10 = cash10 * 10;
            const amount5 = cash5 * 5;
            const amount2 = cash2 * 2;
            const amount1 = cash1 * 1;

            document.getElementById('amount2000').value = amount2000;
            document.getElementById('amount500').value = amount500;
            document.getElementById('amount200').value = amount200;
            document.getElementById('amount100').value = amount100;
            document.getElementById('amount50').value = amount50;
            document.getElementById('amount20').value = amount20;
            document.getElementById('amount10').value = amount10;
            document.getElementById('amount5').value = amount5;
            document.getElementById('amount2').value = amount2;
            document.getElementById('amount1').value = amount1;

            const total = amount2000 + amount500 + amount200 + amount100 + amount50 + amount20 + amount10 + amount5 + amount2 + amount1;
            
            document.getElementById('totalCash').value = total;
        }

        // Calculate MS sales and cost initially and on input change
        document.getElementById('MSClosing').addEventListener('input', calculateMSSaleAndCost);
        document.getElementById('MSOpening').addEventListener('input', calculateMSSaleAndCost);

        // Calculate HSD sales and cost initially and on input change
        document.getElementById('HSDClosing').addEventListener('input', calculateHSDSaleAndCost);
        document.getElementById('HSDOpening').addEventListener('input', calculateHSDSaleAndCost);

        // Calculate cash denomination total initially and on input change
        const inputs = document.querySelectorAll('.denomination input');
        inputs.forEach(input => {
            input.addEventListener('input', calculateTotal);
        });

        // Update date and time every second
        updateDateTime();
        setInterval(updateDateTime, 1000);
        function calculateShort() {
            const totalMSHSD = parseFloat(document.getElementById('totalMSHSD').value) || 0;
            const cash = parseFloat(document.getElementById('Cash').value) || 0;
            const icici = parseFloat(document.getElementById('ICICI').value) || 0;
            const paytm = parseFloat(document.getElementById('Paytm').value) || 0;
            const ufill = parseFloat(document.getElementById('Ufill').value) || 0;
            const exp = parseFloat(document.getElementById('EXP').value) || 0;
            const vijay = parseFloat(document.getElementById('Vijay').value) || 0;
        
            const total = cash + icici + paytm + ufill + exp + vijay;
        
            const short = totalMSHSD - total;
        
            // Update the Short input field
            document.getElementById('Short').value = short.toFixed(2);
        }
        
        function enableShortButton() {
            const cash = document.getElementById('Cash').value;
            const icici = document.getElementById('ICICI').value;
            const paytm = document.getElementById('Paytm').value;
            const ufill = document.getElementById('Ufill').value;
            const exp = document.getElementById('EXP').value;
            const vijay = document.getElementById('Vijay').value;
        
            const inputsFilled = cash && icici && paytm && exp && vijay;
        
            const getShortButton = document.getElementById('getShortButton');
            if (inputsFilled) {
                getShortButton.disabled = false;
            } else {
                getShortButton.disabled = true;
            }
        }
        
        // Calculate Short initially and on input change for required fields
        const requiredInputs = document.querySelectorAll('#Cash, #ICICI, #Paytm, #Ufill, #EXP, #Vijay');
        requiredInputs.forEach(input => {
            input.addEventListener('input', () => {
                calculateShort();
                enableShortButton();
            });
        });
        
        // Function to handle Get Short button click
        document.getElementById('getShortButton').addEventListener('click', () => {
            calculateShort();
        });
        
        // Disable the Get Short button initially
        document.getElementById('getShortButton').disabled = true;
       
            function validateForm() {
                // Check if any required field is empty
                const requiredInputs = document.querySelectorAll('input[required], select[required]');
                let formIsValid = true;
                let errorMessage = "Please fill out the following fields:\n";
        
                requiredInputs.forEach(input => {
                    if (!input.value.trim()) {
                        formIsValid = false;
                        errorMessage += `- ${input.previousElementSibling.textContent.trim()}\n`;
                        input.style.border = "1px solid red"; // Highlight the empty field
                    } else {
                        input.style.border = "1px solid #ddd"; // Reset border if filled
                    }
                });
        
                if (!formIsValid) {
                    alert(errorMessage);
                }
        
                return formIsValid;
            }
        
            // Attach validateForm function to the form submit event
            const form = document.querySelector('form');
            form.addEventListener('submit', function(event) {
                if (!validateForm()) {
                    event.preventDefault(); // Prevent form submission if validation fails
                }
            });

        
            function calculateMSSaleAndCost() {
                const MSClosing = parseFloat(document.getElementById('MSClosing').value) || 0;
                const MSOpening = parseFloat(document.getElementById('MSOpening').value) || 0;
            
                // Only calculate and display values if both Closing and Opening are entered
                if (MSClosing !== 0 && MSOpening !== 0) {
                    const MSSale = MSClosing - MSOpening;
                    const MSTotalCost = MSSale * 106.86;
            
                    document.getElementById('MSSale').value = MSSale.toFixed(2);
                    document.getElementById('MSTotalCost').value = MSTotalCost.toFixed(2);
                } else {
                    document.getElementById('MSSale').value = ''; // Reset MSSale if incomplete data
                    document.getElementById('MSTotalCost').value = ''; // Reset MSTotalCost if incomplete data
                }
            
                calculateTotalMSHSD();
            }
            
            function calculateHSDSaleAndCost() {
                const HSDClosing = parseFloat(document.getElementById('HSDClosing').value) || 0;
                const HSDOpening = parseFloat(document.getElementById('HSDOpening').value) || 0;
            
                // Only calculate and display values if both Closing and Opening are entered
                if (HSDClosing !== 0 && HSDOpening !== 0) {
                    const HSDSale = HSDClosing - HSDOpening;
                    const HSDTotalCost = HSDSale * 95.13;
            
                    document.getElementById('HSDSale').value = HSDSale.toFixed(2);
                    document.getElementById('HSDTotalCost').value = HSDTotalCost.toFixed(2);
                } else {
                    document.getElementById('HSDSale').value = ''; // Reset HSDSale if incomplete data
                    document.getElementById('HSDTotalCost').value = ''; // Reset HSDTotalCost if incomplete data
                }
            
                calculateTotalMSHSD();
            }
            
    </script>

</body>
</html>
